<openerp>
    <data>
        <record id="view_partner_form" model="ir.ui.view">
                <field name="name">Simplified partner form view</field>
                <field name="model">res.partner</field>
                <field name="inherit_id" ref="base.view_partner_form"/>
                <field name="arch" type="xml">
                
                    <!-- Always show parent id -->
                    <field name='parent_id' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('parent_id', '=', False),('show_all','=',False)]}</attribute>
                    	<attribute name='options'>{"no_create": True}</attribute>
                    </field>

                    <!-- Add customer number -->
                    <h1 position="after">
                        <h2>
                            <label for="customer_number" string="#" class="oe_inline"/>
                            <field name="customer_number" readonly="1" class="oe_inline"/>
                        </h2>
                    </h1>

                    <!-- Hide obsolete fields -->                    
                    <field name='fax' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('show_all','=',False)]}</attribute>
                    </field>
                    
                    <field name='mobile' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('show_all','=',False)]}</attribute>
                    </field>
                    
                    <field name='title' position='attributes'>
                    	<attribute name='attrs'>{'invisible':['|',('show_all','=',False),('is_company','=',True)]}</attribute>
                    </field>
                    
                    <!-- Remove the address_format class so the fields wont' get overridden -->
                    <div class="address_format" position="attributes">
                        <attribute name="class"></attribute>
                    </div>

                    <!-- Fix city and zip width -->
                 	<field name='city' position='attributes'>
                    	<attribute name='style'>width: 60%%</attribute>
                    </field>
                 	<field name='zip' position='attributes'>
                    	<attribute name='style'>width: 40%%</attribute>
                    </field>
                    
                    <!-- Set some placeholders -->
                    <field name='phone' position='attributes'>
                    	<attribute name='placeholder'>Phone</attribute>
                    </field>
                    <field name='email' position='attributes'>
                    	<attribute name='placeholder'>Email</attribute>
                    </field>
                    
                    <!-- Move website field to the right col -->
                    <field name='website' position='replace' />
                    <field name='email' position='after'>
                    	<field name='website' placeholder='Website'/>
                    </field>
                    
                    <!-- Move the state field after zip code and hide it -->
                    <field name='state_id' position='replace' />
                    <field name='zip' position='after'>
                    	<field name='state_id' attrs="{'invisible':[('show_all','=',False)]}" placeholder='State' on_change="onchange_state(state_id)" options='{"no_open": True}'/>
                    </field>
                    
                    <!-- Add a 'personal_customer' helper checkbox -->
                    <field name='title' position='after'>
                   		<field name='is_company' invisible='1' />
                    	<field name='personal_customer'/>
                    </field>
                    
                    <!-- Add a 'show all' checkbox after the main group -->
                    <xpath expr="//group[1]" position="after">
		             	<div id='show_all' class="oe_right">
		             		<label for="show_all" />
		             		<field name="show_all" />
		             	</div>
		            </xpath>
                    
                    <!-- Clean up the 'Sales & Purchases'-page -->
                    <field name='ref' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('show_all','=',False)]}</attribute>
                    </field>
                    
                    <field name='date' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('show_all','=',False)]}</attribute>
                    </field>
                    
                    <field name='active' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('show_all','=',False)]}</attribute>
                    </field>
                    
                    <field name='lang' position='replace' />
                  	
                  	<field name='user_id' position='after'>
                  		<field name='lang' />
                  	</field>
                    
                </field>
        </record>
        
        <record id="res_partner_simplified_form_view_vat" model="ir.ui.view">
                <field name="name">Hide vat fields</field>
                <field name="model">res.partner</field>
                <field name="inherit_id" ref="sale_business_id.view_partner_form_add_affiliate"/>
                <field name="priority" eval="2"/>
                <field name="arch" type="xml">
                    
                    <label for='vat' position='attributes'>
                    	<attribute name='attrs'>{'invisible':['|',('show_all','=',False),('vatnumber_shown','=',False)]}</attribute>
                    </label>
                    
                    <div name='vat_info' position='attributes'>
                    	<attribute name='attrs'>{'invisible':['|',('show_all','=',False),('vatnumber_shown','=',False)]}</attribute>
                    </div>

              	</field>
		</record>
		
        <record id="res_partner_simplified_form_view_opt_out" model="ir.ui.view">
                <field name="name">Hide opt out</field>
                <field name="model">res.partner</field>
                <field name="inherit_id" ref="email_template.res_partner_opt_out_form"/>
                <field name="arch" type="xml">
                    
                    <field name='opt_out' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('show_all','=',False)]}</attribute>
                    </field>
                    
              	</field>
		</record>
		
        <record id="res_partner_simplified_form_view_notify_email" model="ir.ui.view">
                <field name="name">Hide notify email</field>
                <field name="model">res.partner</field>
                <field name="inherit_id" ref="mail.view_emails_partner_info_form"/>
                <field name="arch" type="xml">
                    
                    <field name='notify_email' position='attributes'>
                    	<attribute name='attrs'>{'invisible':[('show_all','=',False)]}</attribute>
                    </field>
                    
            	</field>
		</record>
        
    </data>
</openerp>