<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>	
		<!-- Filters view -->
      	<record id="view_crm_case_claims_filter_extension" model="ir.ui.view">
            <field name="name">crm.claim.filters</field>
            <field name="model">crm.claim</field>
            <field name="inherit_id" ref="crm_claim.view_crm_case_claims_filter"/>
            <field name="arch" type="xml">
            
            	<search position='inside'>
            		<filter string="Active claims" name="active_claims" domain="[('stage_id','not in',[3,4])]" help="Active claims"/>
            		<!-- NOTE: avoid using the new_replies-filter. It's seems to be excluding a lot of results even when used with an OR-condition -->
            		<filter string="New reply" name="new_replies" domain="[('message_unread','=',True)]" help="Claims with new replies"/>
            	</search>
            	
            	<field name="name" position='replace'>
            		<field name="name" string="Claims" filter_domain="['|', '|', ('name','ilike',self), ('partner_id.name', 'ilike', self), ('claim_number','ilike',self)]"/>
            	</field>
            </field>

      	</record> 
	</data>
</openerp>